# Utopia
In this repository you will find the code I've wrote for the data challenge as part of the interview for [**Data Scientist - Time Series Forecasting**](https://career.utopiamusic.com/jobs/1914847-data-scientist-time-series-forecasting) position.



## Run the script
To run the code just run the `run_main.py` script.

`python run_main.py`

The script will generate plot and tables in the `output` folder.  

## Settings
You can change settings using `/config/config.yaml` file. In particular:

* `test_st`: Beginning of test set.
* `modules`: set `True` those modules you want to run: `analysis`, `forecast`, `forecast_bayesian`.
* `forecast_setting`: from this dictionary you can setup all the main parameters will be used in forecast modes:
  * `granularity`: granularity that will be used to aggregate data. Choose between `D` *(daily)* , `W` *(weekly)*, `MS` *(monthly)*
  * `resample_operation`: operation to apply when down scaling data to weekly or monthly. Choose between `sum` and `mean`
  * `track_id_list`: Tracks ids to run
  
  * `step_ahead`: Number of steaps ahead forecast will be generated for each valuedate. Score performance will be computed for each leadtime less or equal than this value
  * `autoregressive_train_step_size`: train size of autoregressive model at each time step
  * `calendar_features`: calendar features that will be passed to Poisson Linear Model



## Output
Score tables can be found in `/output/score` folder.
In `/output/plot` you will find all plots generated by the script. In particular in `/output/plot/plot_html` you will find interactive plots to explore the forecast timeseries.

